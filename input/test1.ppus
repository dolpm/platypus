pipe test |> [] |> [r: int] |> unit {
  int x <| 0;
  {
    ~&int y <| ~&x;
    {
      ~&int z <| ~&x;
    }
  }
  |> ();
}

pipe main |> [] |> [] |> unit {
  |> ();
}
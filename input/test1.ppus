pipe test |> ['a, 'b] |> [x: &'a int, y: &'b int] |> &'b int {
  if (@x == 2) {
    |> x;
  } else {
    |> y;
  }
}

pipe main |> [] |> [] |> unit {
  int x <| 4;
  {
    int y <| 5;
    test <| [&x, &y];
  }
  |> ();
}
